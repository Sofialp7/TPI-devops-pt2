3. Verificación de DeployEste documento detalla los comandos para verificar el estado de cada servicio una vez que el despliegue en el servidor remoto ($SSH_HOST) ha finalizado correctamente.El sistema completo debe estar accesible a través de HTTPS en el puerto 8080 del host (https://<IP_Servidor>:8080).Verificación de ContenedoresComando en el servidor remoto:docker compose ps
Resultado esperado:Los cuatro servicios deben estar en estado running (Up). El servicio frontend (Nginx/Proxy) debe mapear el puerto 8080 del host al puerto 443 interno.ServicioNombre ContenedorPuerto Expuesto (Host:Contenedor)Estado Esperadodbtp_db(Ninguno)Up (healthy)apitp_api(Ninguno)Updata_apitp_data_api(Ninguno)Up (healthy)frontendtp_frontend0.0.0.0:8080->443/tcpUpHealth Checks por Servicio1. Frontend (Proxy HTTPS)Verifica que el proxy Nginx responda correctamente a través de HTTPS.Comando de prueba (desde tu PC, asumiendo un certificado auto-firmado):# Nota: La opción '-k' (insecure) es necesaria para aceptar el certificado auto-firmado
curl -kL https://<IP_Servidor>:8080/
Resultado esperado: Código de respuesta 200 OK y el contenido HTML de la página principal.2. API de Todos (MySQL)Verifica que la API principal esté viva y que pueda comunicarse con la base de datos (Health Check / Endpoint de prueba).Comando de prueba (GET /api/todos):curl -kL https://<IP_Servidor>:8080/api/todos
Resultado esperado: Código de respuesta 200 OK y un array JSON (posiblemente vacío o con datos iniciales).3. Data API (JSON Estático)Verifica que el servicio que provee los datos estáticos sea accesible a través del proxy.Comando de prueba (GET /data/):curl -kL https://<IP_Servidor>:8080/data/items.json
Resultado esperado: Código de respuesta 200 OK y el contenido del archivo JSON estático.4. Base de Datos (Interno)La base de datos se chequea internamente a través de su Health Check en Docker Compose, que se puede verificar con:Comando en el servidor remoto:docker inspect --format='{{json .State.Health}}' tp_db
Resultado esperado: El campo Status debe ser "healthy".